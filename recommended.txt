1ï¸âƒ£ Architecture â€” KEEP but SIMPLIFY
âœ… KEEP

React frontend

Fastify backend

PostgreSQL

OpenAI integration

Tailwind + Vite

ğŸ”§ CHANGE (important)
âŒ Problem: user_id dependency

You are introducing users table + auth complexity too early.

âœ… Recommendation (VERY IMPORTANT)

For MVP:

Use email OR phone number as primary identifier

Generate a uuid client-side

No passwords in v1

This avoids:

Auth bugs

Time loss

User friction

ğŸ‘‰ You can still say â€œuser accountsâ€ to Enactus.

2ï¸âƒ£ Frontend â€” OnboardingForm.jsx
âœ… KEEP

5 questions

Tailwind

Validation

POST /api/profile

ğŸ”§ CHANGE
âŒ Too many similar questions

You listed:

sleep schedule

sleep quality

sleep duration

sleep issues

sleep goals

This is cognitively heavy.

âœ… BETTER (optimized onboarding)

Limit to 4 questions:

Usual bedtime (time)

Usual wake time (time)

Main problem (select)

Canâ€™t fall asleep

Wake up tired

Wake up at night

Phone usage before bed

<30 min / 30â€“60 / 1h+

â¡ï¸ Sleep goals can be inferred later.

3ï¸âƒ£ Backend â€” Fastify API
server.js

âœ… KEEP everything
âš ï¸ BUT:

CHANGE

Donâ€™t overdo middleware

One error handler is enough

No role-based logic

Fastify skeleton should be < 100 lines.

routes/profile.js
âŒ Current risk

Youâ€™re storing â€œuser profileâ€ but donâ€™t define how itâ€™s used later.

âœ… Recommendation

Store only what affects AI output.

Minimal profile schema:

bedtime TIME
wake_time TIME
main_problem TEXT
phone_usage TEXT
created_at


Nothing else.

routes/checkins.js
âœ… Mostly good

But you donâ€™t need this many fields.

ğŸ”§ CHANGE payload to:
{
  "user_id": "uuid",
  "sleep_hours": 6.5,
  "sleep_quality": 3,
  "phone_before_bed": true
}


âŒ Remove:

mood

notes

bedtime/wake_time (already known)

Less friction = more daily usage.

4ï¸âƒ£ Database â€” schema.sql
âœ… KEEP PostgreSQL
ğŸ”§ CHANGE (simplify)
âŒ users table is overkill

You donâ€™t need full users yet.

âœ… Minimal schema (MVP-perfect)
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE sleep_profiles (
  user_id UUID PRIMARY KEY,
  bedtime TIME,
  wake_time TIME,
  main_problem TEXT,
  phone_usage TEXT
);

CREATE TABLE sleep_checkins (
  id SERIAL PRIMARY KEY,
  user_id UUID,
  sleep_hours NUMERIC,
  sleep_quality INT,
  phone_before_bed BOOLEAN,
  created_at DATE DEFAULT CURRENT_DATE
);


Indexes only on:

user_id

created_at

5ï¸âƒ£ AI Integration â€” MOST IMPORTANT PART
reportGenerator.js
âœ… KEEP

Weekly report

Friendly tone

No medical claims

Fallback message

ğŸ”§ CRITICAL CHANGE
âŒ Donâ€™t send raw data directly to OpenAI

Youâ€™ll get inconsistent output.

âœ… DO THIS INSTEAD (very important)

Pre-compute stats

Send summary to OpenAI

Example:

{
  avg_sleep: 6.4,
  best_day_sleep: 7.5,
  worst_day_sleep: 4.8,
  phone_nights: 5,
  quality_trend: "improving"
}


Then ask AI to explain, not calculate.

This:

Cheaper

Faster

More reliable

Example AI instruction (gold):
You are an AI sleep coach for students.
Explain the weekly sleep data in a friendly, motivational way.
DO NOT give medical advice.
DO NOT diagnose conditions.
Focus on habits and small improvements.
Limit response to 120 words.

6ï¸âƒ£ OpenAI API â€” REAL vs MOCK
âš ï¸ My honest advice:

Start with REAL API, but:

Add a feature flag:

USE_AI=true


If false â†’ return template message.

This avoids demo failures.

7ï¸âƒ£ Testing Plan â€” CUT MOST OF IT
âŒ Problem

Your testing plan is too heavy for Enactus MVP.

âœ… What you ACTUALLY need
Automated:

None (optional 1â€“2 API tests)

Manual (what judges care about):

Screenshots

Real users

Feedback messages

Payments

Testing time = user acquisition time lost.

8ï¸âƒ£ Missing (IMPORTANT FOR ENACTUS)

You are missing 2 critical things:

1ï¸âƒ£ Admin / Export

You NEED:

Export user feedback

Export sleep improvement stats

CSV is enough.

2ï¸âƒ£ Feedback collection

Add:

â€œDid this help?â€ (Yes / No)

Optional comment

This is gold for Enactus.

9ï¸âƒ£ Final Verdict
âœ… What to KEEP

Stack

Structure

AI weekly report idea

Fastify

PostgreSQL

ğŸ”§ What to CHANGE

Simplify user model

Reduce onboarding questions

Pre-process AI data

Reduce check-in fields

Cut heavy testing

âŒ What to CUT

Full auth

Deep sleep analysis

Mood tracking

Over-testing